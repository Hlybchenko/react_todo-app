{"version":3,"sources":["components/SearchPanel.js","components/NewTodo.js","components/Header.js","components/TodoItem.js","components/TodoList.js","components/StatusFilter.js","components/Footer.js","App.js","index.js"],"names":["SearchPanel","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","event","onSearch","setState","term","target","value","state","react_default","a","createElement","type","className","placeholder","Component","NewTodo","onLabelChange","replace","title","onSubmit","preventDefault","onItemAdded","disabled","length","Header","_ref","SearchPanel_SearchPanel","style","userSelect","NewTodo_NewTodo","TodoItem","onDelete","todo","onToggleDone","id","checked","complete","readOnly","htmlFor","onClick","TodoList","todos","onMarkedAll","display","map","key","components_TodoItem","StatusFilter","filter","onFilterChange","href","Footer","handleDeleteAllCompleted","toDoCount","compltetedTodos","components_StatusFilter","App","search","getFromLocalStorage","storageData","localStorage","getItem","JSON","parse","saveToLocalStorage","data","setItem","stringify","createItem","concat","toConsumableArray","Date","toggleProperty","arr","propName","idx","findIndex","item","objectSpread","defineProperty","slice","onSearchChange","every","forceUpdate","filterItems","searchItems","toLowerCase","includes","getedTodos","_this$state","doneCount","visibleTodos","Fragment","components_Header","components_TodoList","components_Footer","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.16b0f9f8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class SearchPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      term: '',\n    };\n  }\n\n  onChange = (event) => {\n    const { onSearch } = this.props;\n    this.setState({\n      term: event.target.value,\n    });\n\n    onSearch(event.target.value);\n  };\n\n  render() {\n    return (\n      <input\n        type=\"text\"\n        className=\"form-control search-input\"\n        placeholder=\"type to search\"\n        value={this.state.term}\n        onChange={this.onChange}\n      />\n    );\n  }\n}\n\nSearchPanel.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class NewTodo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: '',\n    };\n  }\n\n  onLabelChange = (event) => {\n    const value = event.target.value.replace('  ', ' ');\n    this.setState({\n      title: value,\n    });\n  };\n\n  onSubmit = (event) => {\n    event.preventDefault();\n    const { title } = this.state;\n    this.setState({ title: '' });\n    this.props.onItemAdded(title);\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          value={this.state.title}\n          onChange={this.onLabelChange}\n        />\n        <button\n          disabled={this.state.title.length < 3}\n          type=\"submit\"\n        />\n      </form>\n    );\n  }\n}\n\nNewTodo.propTypes = {\n  onItemAdded: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SearchPanel from './SearchPanel';\nimport NewTodo from './NewTodo';\n\nconst Header = ({ onSearch, onItemAdded }) => (\n  <header className=\"header\">\n\n    <SearchPanel onSearch={onSearch} />\n\n    <h1 className=\"header-title\" style={{ userSelect: 'none' }}>todos</h1>\n\n    <NewTodo onItemAdded={onItemAdded} />\n  </header>\n);\n\nHeader.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  onItemAdded: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TodoItem = (props) => {\n  const { onDelete, todo, onToggleDone } = props;\n\n  return (\n    <div className=\"view\">\n      <input\n        type=\"checkbox\"\n        className=\"toggle\"\n        id={todo.id}\n        checked={todo.complete}\n        onChange={onToggleDone}\n        readOnly\n      />\n      <label\n        htmlFor={todo.id}\n      >\n        {todo.title}\n      </label>\n      <button type=\"button\" className=\"destroy\" onClick={onDelete} />\n    </div>\n  );\n};\n\nTodoItem.propTypes = {\n\n  onDelete: PropTypes.func.isRequired,\n  onToggleDone: PropTypes.func.isRequired,\n  todo: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    complete: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TodoItem from './TodoItem';\n\nconst TodoList = (props) => {\n  const {\n    todos,\n    onDelete,\n    onToggleDone,\n    onMarkedAll,\n  } = props;\n\n  return (\n    <section className=\"main\" style={{ display: 'block' }}>\n      <input type=\"checkbox\" id=\"toggle-all\" className=\"toggle-all\" />\n      <label\n        htmlFor=\"toggle-all\"\n        title=\"Mark all as complete\"\n        onClick={onMarkedAll}\n      >\n        Mark all as complete\n      </label>\n\n      <ul className=\"todo-list\">\n        {todos.map(todo => (\n          <li className={todo.complete ? 'completed' : ''} key={todo.id}>\n            <TodoItem\n              todo={todo}\n              onDelete={() => onDelete(todo.id)}\n              onToggleDone={() => onToggleDone(todo.id)}\n\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nTodoList.propTypes = {\n  onDelete: PropTypes.func.isRequired,\n  onToggleDone: PropTypes.func.isRequired,\n  onMarkedAll: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst StatusFilter = ({ filter, onFilterChange }) => (\n  <ul className=\"filters\">\n    <li>\n      <a\n        href=\"#/\"\n        className={filter === 'all' ? 'selected' : ''}\n        onClick={() => onFilterChange('all')}\n      >\n          All\n      </a>\n    </li>\n\n    <li>\n      <a\n        href=\"#/active\"\n        className={filter === 'active' ? 'selected' : ''}\n        onClick={() => onFilterChange('active')}\n      >\n          Active\n      </a>\n    </li>\n\n    <li>\n      <a\n        href=\"#/completed\"\n        className={filter === 'complete' ? 'selected' : ''}\n        onClick={() => onFilterChange('complete')}\n      >\n          Completed\n      </a>\n    </li>\n  </ul>\n);\n\nStatusFilter.propTypes = {\n  filter: PropTypes.string.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n};\n\nexport default StatusFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport StatusFilter from './StatusFilter';\n\nconst Footer = ({\n  todos,\n  onFilterChange,\n  handleDeleteAllCompleted,\n  toDoCount,\n  filter,\n}) => {\n  const compltetedTodos = todos.filter(todo => todo.complete);\n\n  return (\n    <footer className=\"footer\" style={{ display: 'block' }}>\n      <span className=\"todo-count\">\n        {toDoCount}\n        {' '}\n        items left\n      </span>\n\n      <StatusFilter onFilterChange={onFilterChange} filter={filter} />\n\n      <button\n        type=\"button\"\n        className=\"clear-completed\"\n        style={{ display: 'block' }}\n        onClick={handleDeleteAllCompleted}\n      >\n        {compltetedTodos.length > 0 ? 'Clear completed' : ''}\n      </button>\n    </footer>\n  );\n};\n\nFooter.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  handleDeleteAllCompleted: PropTypes.func.isRequired,\n  toDoCount: PropTypes.number.isRequired,\n  filter: PropTypes.string.isRequired,\n};\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport Header from './components/Header';\nimport TodoList from './components/TodoList';\nimport Footer from './components/Footer';\n\nexport default class App extends Component {\n  state = {\n    todos: [],\n    search: '',\n    filter: 'all',\n  }\n\n  componentWillMount() {\n    const getedTodos = this.getFromLocalStorage();\n    this.setState(state => ({\n      todos: [\n        ...state.todos,\n        ...getedTodos,\n      ],\n    }));\n  }\n\n  componentDidMount() {\n    this.setState(state => ({\n      todos: state.todos,\n    }));\n  };\n\n  getFromLocalStorage = () => {\n    const storageData = localStorage.getItem('todos');\n    const getTodos = JSON.parse(storageData);\n\n    return getTodos;\n  }\n\n  saveToLocalStorage = () => {\n    const data = this.state.todos;\n    localStorage.setItem('todos', JSON.stringify(data));\n  };\n\n  onItemAdded = (title) => {\n    if (title.length > 2) {\n      this.setState((state) => {\n        const todo = this.createItem(title);\n        return { todos: [...state.todos, todo] };\n      });\n    }\n\n    this.saveToLocalStorage();\n  };\n\n  createItem = title => ({\n    id: +(new Date()),\n    title,\n    complete: false,\n  });\n\n  toggleProperty = (arr, id, propName) => {\n    const idx = arr.findIndex(item => item.id === id);\n    const oldItem = arr[idx];\n    const value = !oldItem[propName];\n\n    const item = { ...arr[idx], [propName]: value };\n    return [\n      ...arr.slice(0, idx),\n      item,\n      ...arr.slice(idx + 1),\n    ];\n  };\n\n  onToggleDone = (id) => {\n    this.setState((state) => {\n      const todos = this.toggleProperty(state.todos, id, 'complete');\n      return { todos };\n    });\n  };\n\n  onFilterChange = (filter) => {\n    this.setState({ filter });\n  };\n\n  onSearchChange = (search) => {\n    this.setState({ search });\n  };\n\n  onDelete = (id) => {\n    this.setState((state) => {\n      const idx = state.todos.findIndex(todo => todo.id === id);\n      const todos = [\n        ...state.todos.slice(0, idx),\n        ...state.todos.slice(idx + 1),\n      ];\n      return { todos };\n    });\n  };\n\n  handleDeleteAllCompleted = () => {\n    this.setState(state => ({\n      todos: state.todos.filter(todo => !todo.complete),\n    }));\n\n    localStorage.setItem('todos', JSON.stringify(\n      { title: '', id: 0, complete: false }\n    ));\n  }\n\n  onMarkedAll = () => {\n    this.setState((state) => {\n      state.todos.map(todo => (todo.complete = true));\n    });\n\n    if (this.state.todos.every(todo => todo.complete === true)) {\n      this.setState((state) => {\n        state.todos.map(todo => (todo.complete = false));\n      });\n    }\n\n    this.forceUpdate();\n  }\n\n  filterItems = (todos, filter) => {\n    if (filter === 'active') {\n      return todos.filter(todo => (!todo.complete));\n    } if (filter === 'complete') {\n      return todos.filter(todo => todo.complete);\n    }\n\n    return todos;\n  }\n\n  searchItems = (todos, search) => {\n    if (search.length === 0) {\n      return todos;\n    }\n\n    return todos.filter(todo => todo.title\n      .toLowerCase()\n      .includes(search.toLowerCase()));\n  }\n\n  render() {\n    const { todos, filter, search } = this.state;\n    const doneCount = todos.filter(todo => todo.complete).length;\n    const toDoCount = todos.length - doneCount;\n    const visibleTodos = this.searchItems(\n      this.filterItems(todos, filter),\n      search\n    );\n\n    this.saveToLocalStorage('todos', JSON.stringify([]));\n\n    return (\n      <section className=\"todoapp\">\n        {todos.length < 1 ? (\n          <>\n            <Header\n              onSearch={this.onSearchChange}\n              onItemAdded={this.onItemAdded}\n            />\n          </>\n        ) : (\n          <>\n            <Header\n              onSearch={this.onSearchChange}\n              onItemAdded={this.onItemAdded}\n            />\n            <TodoList\n              todos={visibleTodos}\n              onDelete={this.onDelete}\n              onToggleDone={this.onToggleDone}\n              onMarkedAll={this.onMarkedAll}\n            />\n            <Footer\n              todos={visibleTodos}\n              onFilterChange={this.onFilterChange}\n              filter={filter}\n              handleDeleteAllCompleted={this.handleDeleteAllCompleted}\n              toDoCount={toDoCount}\n            />\n          </>\n        )}\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './base.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}